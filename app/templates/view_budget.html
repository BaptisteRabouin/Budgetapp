{% extends "base.html" %}

{% block title %}Budget - {{ budget.name }}{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">Budget : {{ budget.name }}</h1>

<h2 class="text-xl font-semibold mt-6 mb-2">Revenus</h2>
<ul class="list-disc pl-5">
    {% for revenue in revenues %}
    <li>{{ revenue.description }} - {{ "{:.2f}".format(revenue.amount) }} €</li>
    {% endfor %}
</ul>

<h2 class="text-xl font-semibold mt-6 mb-2">Charges</h2>
<ul class="list-disc pl-5">
    {% for charge in charges %}
    <li>{{ charge.description }} - {{ "{:.2f}".format(charge.amount) }} €</li>
    {% endfor %}
</ul>

<h2 class="text-xl font-semibold mt-6 mb-2">Personnes</h2>
<ul class="list-disc pl-5">
    {% for person in persons %}
    <li>{{ person.name }} - Allocation : {{ person.allocation_percentage }}%</li>
    {% endfor %}
</ul>

<h2 class="text-xl font-semibold mt-6 mb-2">Résumé</h2>
<p>Total des revenus : {{ "{:.2f}".format(total_revenues) }} €</p>
<p>Total des charges : {{ "{:.2f}".format(total_charges) }} €</p>
<p>Solde : 
    {% if balance >= 0 %}
        <span class="text-green-600 font-bold">{{ "{:.2f}".format(balance) }} €</span>
    {% else %}
        <span class="text-red-600 font-bold">{{ "{:.2f}".format(balance) }} €</span>
    {% endif %}
</p>

<a href="{{ url_for('budgets') }}" class="mt-4 inline-block text-blue-600 hover:text-blue-800">Retour à la liste des budgets</a>
{% endblock %}
